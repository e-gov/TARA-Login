!function(){var n,t=5e3;try{var e=document.body.getAttribute("data-check-form-refresh-rate"),r=new Number(e);100<=r&&(t=r)}catch(e){}setTimeout(function(){clearInterval(n)},36e4);const o=document.querySelector("input[name='_csrf']").getAttribute("value"),c=document.querySelector("#session-url").textContent,i=document.querySelector("#session-id").textContent;window.veriffSDK.createVeriffFrame({url:c,lang:document.documentElement.lang,onEvent:function(e){switch(e){case"CANCELED":!function(){var e=document.createElement("form"),t=(e.method="POST",e.action="/auth/veriff/cancel",document.createElement("input"));t.setAttribute("type","hidden"),t.setAttribute("name","_csrf"),t.setAttribute("value",o),e.appendChild(t),document.body.appendChild(e),e.submit()}();break;case"FINISHED":!async function(){document.querySelector("#instruction").classList.add("hidden"),document.querySelector("#veriff-wait-decision").classList.remove("hidden");await fetch("/auth/veriff/init",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":o},body:JSON.stringify({sessionId:i,sessionUrl:c})})}(),n=setInterval(function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){var e,t,r;4===this.readyState&&(e=JSON.parse(this.responseText),200===this.status&&"COMPLETED"===e.status?(clearInterval(n),(r=document.createElement("form")).method="POST",r.action="/auth/accept",(t=document.createElement("input")).setAttribute("type","hidden"),t.setAttribute("name","_csrf"),t.setAttribute("value",o),r.appendChild(t),document.body.appendChild(r),r.submit()):200===this.status&&"PENDING"===e.status?console.log(this.responseText):(clearInterval(n),document.querySelector(".c-tab-login__main").classList.add("hidden"),document.querySelector("#veriff-error").classList.remove("hidden"),document.querySelector("#error-message").innerHTML=e.message,e.reportable?(document.querySelector("#error-incident-number").innerHTML=e.incident_nr,t=(t=(t=document.querySelector("#error-report-url").href).replace("{1}",e.message)).replace("{2}",e.incident_nr),document.querySelector("#error-report-url").href=t,r=(r=document.querySelector("#error-report-notification").innerHTML).replace("{1}",e.incident_nr),document.querySelector("#error-report-notification").innerHTML=r):(document.querySelector("#error-incident-number-wrapper").classList.add("hidden"),document.querySelector("#error-report-url").classList.add("hidden"))))},e.open("GET","/auth/veriff/poll",!0),e.setRequestHeader("Accept","application/json;charset=UTF-8"),e.send()},t)}}})}();