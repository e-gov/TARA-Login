<script th:src="@{/scripts/legalperson.js}" defer></script>
<div class="container" xmlns:th="http://www.w3.org/1999/xhtml">
    <noscript>
        <div class="alert alert-error">
            <div class="text"><strong th:utext="#{message.warning.noscript}"></strong></div>
        </div>
        <br>
    </noscript>
    <div>
        <div class="alert alert-neutral">

            <h2 th:utext="#{label.legal-person.h2}"></h2>

            <div th:if="${session.containsKey('authentication')}">
                <div id="results-container" class="alert alert-neutral">
                    <div id="results-loading" class="hidden">
                        <div class="loadersmall"></div>
                        <div th:utext="#{label.legal-person.loading}"></div>
                    </div>
                    <div id="results-summary" class="hidden">
                        <div><b th:utext="#{label.legal-person.loading-result}"></b></div>
                        <br>
                    </div>
                    <ul translate="no" id="results-legal-person-list"></ul>
                </div>
                <div id="error-results-container" class="alert alert-error hidden">
                    <div id="error-no-results" class="hidden text" th:utext="#{label.legal-person.error.no-results}"></div>
                    <div id="error-service-not-available" class="hidden text" th:utext="#{label.legal-person.error.service-not-available}"></div>
                    <div id="error-technical-problem" class="hidden text" th:utext="#{label.legal-person.error.internal-service-error}"></div>
                </div>
                <form method="POST" th:action="@{/auth/legalperson/confirm}" class="c-form" id="selectLegalPerson">
                    <input type="hidden" name="legal_person_identifier" value=""/>
                    <button type="submit" class="c-btn c-btn--primary" disabled id="btn-select-legal-person"
                            th:utext="#{label.common.login}"></button>
                </form>
            </div>

            <br>

            <div id="error-controls-container" class="hidden">
                <div class="link-back text"><a th:href="${'/auth/init?login_challenge=' + login_challenge}" th:utext="#{label.common.back}"></a></div>
            </div>
        </div>
        <div class="c-tab-login__footer">
            <div class="text"><a th:href="${@thymeleafSupport.getHomeUrl()}" th:text="#{label.common.home}">Home</a></div>
        </div>
    </div>
</div>