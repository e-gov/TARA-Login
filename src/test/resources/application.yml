spring:
  application:
    name: tara-login-service
    instance-id: ${APP_INSTANCE_ID:${random.int(100)}}
  session:
    timeout: 60s
    servlet:
      filter-order: -2147483648

management:
  health:
    defaults:
      enabled: false
  info:
    git:
      mode: full
  endpoints:
    web:
      base-path: /
      exposure:
        exclude: "*"
    jmx:
      exposure:
        exclude: "*"

ignite:
  ignite-instance-name: tara-ignite
  discovery-spi:
    ip-finder:
      addresses:
        - 127.0.0.1
  ssl-context-factory:
    key-store-type: JKS
    key-store-file-path: src/test/resources/tls-keystore.jks
    key-store-password: changeit
    trust-store-type: JKS
    trust-store-file-path: src/test/resources/tls-truststore.jks
    trust-store-password: changeit
    protocol: TLSv1.2

tara:
  hydra-service:
    login-url: https://localhost:9877/oauth2/auth/requests/login
    accept-login-url: https://localhost:9877/oauth2/auth/requests/login/accept
    reject-login-url: https://localhost:9877/oauth2/auth/requests/login/reject
    accept-consent-url: https://localhost:9877/oauth2/auth/requests/consent/accept
    reject-consent-url: https://localhost:9877/oauth2/auth/requests/consent/reject
    health-url: https://localhost:9877/health/ready
    request-timeout-in-seconds: 1
    max-connections-total: 3

  default-locale: et

  auth-methods:
    id-card:
      enabled: true
      level-of-assurance: HIGH
      truststore-path: file:src/test/resources/idcard-truststore-test.p12
      truststore-type: PKCS12
      truststore-password: changeit
      ocsp:
        - issuer-cn: TEST of ESTEID-SK 2011
          url: http://aia.sk.ee/esteid2011
          accepted-clock-skew: 5
          response-lifetime: 60
          responder-certificate-cn: TEST_of_ESTEID-SK_2011.crt

        - issuer-cn: TEST of ESTEID-SK 2015
          url: https://localhost:9877/esteid2015
          connect-timeout-in-milliseconds: 500

        - issuer-cn: TEST of ESTEID-SK2018
          url: http://aia.demo.sk.ee/esteid2018

      fallback-ocsp:
        - url: https://localhost:9877/ocsp
          issuer-cn: TEST of ESTEID-SK 2011, TEST of ESTEID-SK 2015, TEST of ESTEID2018
    mobile-id:
      enabled: true
      level-of-assurance: HIGH
      truststore-path: file:src/test/resources/mobileid-truststore-test.p12
      host-url: https://localhost:9877/mid-api
      relying-party-uuid: 00000000-0000-0000-0000-000000000000
      relying-party-name: DEMO
      truststore-type: PKCS12
      truststore-password: changeit
      connection-timeout-milliseconds: 1000
      read-timeout-milliseconds: 1000
      interval-between-session-status-queries-in-milliseconds: 1000
    smart-id:
      enabled: true
      host-url: https://localhost:9877/smart-id-rp/v2/
      level-of-assurance: HIGH
      truststore-path: file:src/test/resources/sid-truststore-test.p12
      truststore-type: PKCS12
      truststore-password: changeit
      relying-party-uuid: 00000000-0000-0000-0000-000000000000
      relying-party-name: DEMO
      connection-timeout-milliseconds: 1000
      read-timeout-milliseconds: 1000

  legal-person-authentication:
    x-road-server-url: https://localhost:9877/cgi-bin/consumer_proxy

    x-road-service-instance: ee-dev
    x-road-service-member-class: GOV
    x-road-service-member-code: 70000310
    x-road-service-subsystem-code: arireg

    x-road-client-subsystem-instance: ee-dev
    x-road-client-subsystem-member-class: GOV
    x-road-client-subsystem-member-code: 70006317
    x-road-client-subsystem-code: idp

    x-road-server-read-timeout-in-milliseconds: 1000
    x-road-server-connect-timeout-in-milliseconds: 1000

  tls:
    trust-store-location: classpath:tls-truststore.jks
    trust-store-password: changeit
    trust-store-type: jks

  alerts:
    host-url: https://localhost:9877/alerts
    refresh-alerts-interval-in-milliseconds: 100
